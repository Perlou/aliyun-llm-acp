# 🛡️ 大模型伦理与安全

> 📊 **考试占比**: 8% (~8 题)
>
> 🎯 **重要程度**: ⭐⭐⭐

## 📚 知识大纲

### 1. 大模型安全风险 ⭐

#### 1.1 主要风险类型

```
安全风险分类:
├── 有害内容 (Harmful Content)
│   ├── 暴力、色情内容
│   ├── 仇恨言论
│   └── 违法信息
├── 隐私泄露 (Privacy Leakage)
│   ├── 训练数据泄露
│   ├── 用户信息暴露
│   └── 敏感数据推断
├── 偏见歧视 (Bias & Discrimination)
│   ├── 性别偏见
│   ├── 种族偏见
│   └── 地域歧视
├── 幻觉问题 (Hallucination)
│   ├── 事实错误
│   ├── 虚假引用
│   └── 不一致回答
└── 提示注入 (Prompt Injection)
    ├── 越狱攻击
    ├── 指令覆盖
    └── 角色扮演攻击
```

#### 1.2 风险等级

| 风险     | 严重程度 | 常见场景 |
| -------- | -------- | -------- |
| 有害内容 | 🔴 高    | 内容生成 |
| 隐私泄露 | 🔴 高    | 数据处理 |
| 偏见歧视 | 🟠 中    | 决策辅助 |
| 幻觉问题 | 🟠 中    | 知识问答 |
| 提示注入 | 🟠 中    | 用户交互 |

### 2. 安全防护方案 ⭐

#### 2.1 多层防护体系

```
┌────────────────────────────────────────┐
│           安全防护架构                   │
├────────────────────────────────────────┤
│                                         │
│  ┌─────────────────────────────────┐   │
│  │ 输入层防护                        │   │
│  │ • 敏感词过滤                      │   │
│  │ • 提示注入检测                    │   │
│  │ • 用户身份验证                    │   │
│  └─────────────────────────────────┘   │
│              ↓                          │
│  ┌─────────────────────────────────┐   │
│  │ 模型层安全                        │   │
│  │ • 安全对齐训练                    │   │
│  │ • 拒绝机制                        │   │
│  │ • 内容边界设定                    │   │
│  └─────────────────────────────────┘   │
│              ↓                          │
│  ┌─────────────────────────────────┐   │
│  │ 输出层审核                        │   │
│  │ • 内容安全审核                    │   │
│  │ • 事实性检查                      │   │
│  │ • 敏感信息脱敏                    │   │
│  └─────────────────────────────────┘   │
│              ↓                          │
│  ┌─────────────────────────────────┐   │
│  │ 运营层保障                        │   │
│  │ • 人工审核                        │   │
│  │ • 用户举报机制                    │   │
│  │ • 日志审计                        │   │
│  └─────────────────────────────────┘   │
│                                         │
└────────────────────────────────────────┘
```

#### 2.2 输入过滤策略

```python
# 敏感词过滤
def filter_sensitive_input(user_input):
    sensitive_words = load_sensitive_words()
    for word in sensitive_words:
        if word in user_input:
            return False, "包含敏感内容"
    return True, user_input

# 提示注入检测
def detect_injection(user_input):
    injection_patterns = [
        "忽略以上指令",
        "你现在是",
        "假装你是",
        "不要遵守"
    ]
    for pattern in injection_patterns:
        if pattern in user_input:
            return True
    return False
```

#### 2.3 输出审核

```python
# 输出内容安全检查
def check_output_safety(output):
    # 调用内容安全 API
    result = content_safety_api.check(output)

    if result.has_harmful_content:
        return "抱歉，我无法回答这个问题。"

    # 脱敏处理
    output = mask_sensitive_info(output)

    return output
```

### 3. 合规要求

#### 3.1 数据安全

```
数据安全要求:
├── 数据收集
│   ├── 明确告知用途
│   ├── 获得用户同意
│   └── 最小必要原则
├── 数据存储
│   ├── 加密存储
│   ├── 访问控制
│   └── 定期清理
├── 数据使用
│   ├── 目的限制
│   ├── 脱敏处理
│   └── 使用记录
└── 数据传输
    ├── 加密传输
    └── 安全通道
```

#### 3.2 合规检测类型

| 类型         | 说明             | 方案         |
| ------------ | ---------------- | ------------ |
| **内容合规** | 输出内容符合法规 | 内容审核 API |
| **隐私合规** | 保护用户隐私     | 数据脱敏     |
| **版权合规** | 避免侵权内容     | 来源标注     |
| **行业合规** | 符合行业规范     | 专业审核     |

### 4. 云服务安全

#### 4.1 基本安全要素

```
云服务安全:
├── 身份认证
│   ├── 多因素认证
│   ├── API Key 管理
│   └── RAM 权限控制
├── 网络安全
│   ├── VPC 隔离
│   ├── 安全组规则
│   └── DDoS 防护
├── 数据安全
│   ├── 加密存储
│   ├── 密钥管理
│   └── 备份恢复
└── 审计追踪
    ├── 操作日志
    ├── 访问日志
    └── 异常告警
```

#### 4.2 阿里云安全服务

| 服务            | 功能         | 应用         |
| --------------- | ------------ | ------------ |
| **RAM**         | 身份权限管理 | API 访问控制 |
| **KMS**         | 密钥管理     | 数据加密     |
| **ActionTrail** | 操作审计     | 合规追踪     |
| **内容安全**    | 内容审核     | 输出过滤     |

### 5. 大模型安全最佳实践

#### 5.1 开发阶段

```
✅ 安全开发清单:
├── [ ] 敏感词库维护
├── [ ] 输入校验机制
├── [ ] 输出过滤规则
├── [ ] 日志记录完整
├── [ ] 错误处理安全
└── [ ] API 密钥保护
```

#### 5.2 运营阶段

```
✅ 运营安全清单:
├── [ ] 监控报警配置
├── [ ] 定期安全审计
├── [ ] 应急响应预案
├── [ ] 用户反馈渠道
└── [ ] 安全更新机制
```

#### 5.3 应急响应

```
安全事件响应流程:
1. 发现 → 自动告警/用户举报
2. 评估 → 确认影响范围和严重程度
3. 遏制 → 临时下线/限流/封禁
4. 根因 → 分析原因定位问题
5. 修复 → 修复漏洞更新规则
6. 复盘 → 总结经验优化流程
```

---

## ✅ 知识点自测

1. [ ] 大模型的主要安全风险有哪些?
2. [ ] 多层防护体系包含哪几层?
3. [ ] 如何防范提示注入攻击?
4. [ ] 数据安全的基本要求是什么?
5. [ ] 云服务安全的核心要素?

---

## 📝 考点速记卡

```
🔹 五大风险 = 有害内容 + 隐私 + 偏见 + 幻觉 + 注入
🔹 四层防护 = 输入 + 模型 + 输出 + 运营
🔹 注入防范 = 分隔符 + 检测 + 限制
🔹 数据安全 = 收集 + 存储 + 使用 + 传输
🔹 云安全 = 认证 + 网络 + 数据 + 审计
🔹 响应流程 = 发现 → 评估 → 遏制 → 修复 → 复盘
```
